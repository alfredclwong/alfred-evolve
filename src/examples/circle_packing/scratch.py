# %%
import numpy as np
import matplotlib.pyplot as plt

# %%
import re

diff_content = "<<<<<<<< SEARCH\n\n========\nhello\n>>>>>>>> REPLACE"
search_replace_pattern = re.compile(
    r"<<<<<<<< SEARCH\n(.*?)\n========\n(.*?)\n>>>>>>>> REPLACE", re.DOTALL
)
matches = search_replace_pattern.findall(diff_content)
print(matches)

# %%
packing = np.array(
    [
        [0.22523074260709577, 0.2601379158433056, 0.09090820966774142],
        [0.7437745570127853, 0.9015418216696667, 0.09806493597234768],
        [0.35615954231426145, 0.402280652685667, 0.10169409792752977],
        [0.9055847791249405, 0.0944152208750595, 0.09403812610531805],
        [0.8751206422552624, 0.7212417333140906, 0.12438058909051258],
        [0.720474022219875, 0.39510146182282385, 0.10222582455876855],
        [0.3194995192773371, 0.6112221496890418, 0.10967212326084735],
        [0.8972296445741988, 0.2911581869277485, 0.10235989021525184],
        [0.5362836658746589, 0.3077195406314405, 0.101028376994318],
        [0.47159494511034844, 0.7270619910172629, 0.08093259174092197],
        [0.1156651790038558, 0.7074317726564925, 0.11520321181636935],
        [0.30776963385732714, 0.8661638419782307, 0.1333016158714196],
        [0.3025243872816582, 0.09304018243228428, 0.09266857957158206],
        [0.10512447759172296, 0.10512447759172296, 0.10470461000782882],
        [0.38310629742413804, 0.23335200460070252, 0.06875842700781461],
        [0.13100078776829052, 0.4613241870147643, 0.13047757009807184],
        [0.7103767565154766, 0.17536236911182895, 0.11689273204054201],
        [0.5424789505909069, 0.8969369788207784, 0.10265138706048284],
        [0.7376650889157197, 0.5737887828430739, 0.07665986977513566],
        [0.5405885181314067, 0.53343488957587, 0.12386786359024067],
        [0.6516601016113148, 0.7271552158748111, 0.09859638497624938],
        [0.8981282461249916, 0.4957243038350637, 0.10146487768264639],
        [0.06750018842288413, 0.2733829384810455, 0.06723059240038988],
        [0.08941776219797025, 0.9105822378020297, 0.08906062729816992],
        [0.49992657544463864, 0.10485754024918739, 0.10443873881410681],
        [0.9204001259182004, 0.9204001259182004, 0.07928195186639694],
    ]
)

# %%
packing = np.array(
    [
        [0.716444630297887, 0.2192688095543205, 0.09681549977305469],
        [0.8913612361845853, 0.3270767010801281, 0.10831317333162109],
        [0.6735403885328922, 0.6832887478586616, 0.1394008490359589],
        [0.7273338603642775, 0.06137839248790285, 0.061194441384238206],
        [0.2558027761274346, 0.8020169799805615, 0.08736119890060155],
        [0.5191004458596832, 0.28598229484624754, 0.11099854298819514],
        [0.37289360199824423, 0.11428381851155114, 0.1139413097931882],
        [0.5648285486083648, 0.8985804680460852, 0.10111557751522944],
        [0.24610506085434616, 0.9445523814924954, 0.05528144193939],
        [0.3815770917560595, 0.9170581789419523, 0.08269324433739494],
        [0.10434857958802947, 0.5026963003634427, 0.10403584679065557],
        [0.6933746956489537, 0.4296675035361324, 0.11426309424069667],
        [0.1297102169988951, 0.1297102169988951, 0.1293214753488392],
        [0.0986099796545559, 0.9013900203454441, 0.09831444544692122],
        [0.28156260406369465, 0.34443649916895913, 0.13304343321225182],
        [0.4722930287121599, 0.5150650452080546, 0.12216767675250433],
        [0.2741411003444274, 0.615552505221525, 0.09948819771754233],
        [0.0979828035998633, 0.7048686804503898, 0.09768914903949172],
        [0.4363554730157546, 0.7385657225909453, 0.10356546292412432],
        [0.7633048821364349, 0.902697398653693, 0.09701098535276946],
        [0.0746229349612526, 0.3262922361423967, 0.07439928995055078],
        [0.8870840622615518, 0.5485282537907826, 0.11257752856013015],
        [0.5774530835243712, 0.09168224105122369, 0.09140746928311093],
        [0.9290873517029071, 0.9290873517029071, 0.0707001230192338],
        [0.8907383226749832, 0.10926167732501683, 0.10893421996881207],
        [0.9000766157264404, 0.76089630382726, 0.09962391379096833],
    ]
)


# %%
def plot_packing(packing):
    fig, ax = plt.subplots(figsize=(8, 8))
    ax.set_xlim(0, 1)
    ax.set_ylim(0, 1)
    ax.set_aspect("equal")

    for x, y, r in packing:
        circle = plt.Circle((x, y), r, edgecolor="black", facecolor="none")
        ax.add_artist(circle)

    plt.title("Circle Packing")
    ax.set_xticks([])
    ax.set_yticks([])
    ax.set_xlabel("")
    ax.set_ylabel("")
    plt.grid(False)
    plt.show()


# %%
plot_packing(packing)

# %%
